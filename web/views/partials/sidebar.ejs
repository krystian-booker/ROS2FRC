<nav id="sidebar" class="p-3">
    <div class="list-group list-group-flush">
        <a href="/" class="list-group-item <%= active==='dashboard' ? 'active' : '' %>"><i
                class="bi bi-speedometer2 me-2"></i>Dashboard</a>
        <a id="settingsToggle"
            class="list-group-item d-flex justify-content-between align-items-center <%= active.startsWith('camera') ? '' : 'collapsed' %>"
            data-bs-toggle="collapse" href="#settingsCollapse" aria-expanded="<%= active.startsWith('camera') %>"
            aria-controls="settingsCollapse">
            <span><i class="bi bi-gear me-2"></i>Settings</span>
            <i id="settingsIcon"
                class="settings-icon <%= active.startsWith('camera') ? 'bi-chevron-down' : 'bi-chevron-right' %>"></i>
        </a>
        <div class="collapse <%= active.startsWith('camera') ? 'show' : '' %>" id="settingsCollapse">
            <a href="/camera-setup" class="list-group-item ps-4 <%= active==='camera-setup'? 'active' : '' %>">Camera
                Setup</a>
            <a href="/camera-calibration"
                class="list-group-item ps-4 <%= active==='camera-calibration'? 'active' : '' %>">Camera Calibration</a>
        </div>
        <a href="/about" class="list-group-item <%= active==='about'? 'active' : '' %>"><i
                class="bi bi-info-circle me-2"></i>About</a>
    </div>
    <script>
        const settingsToggle = document.getElementById('settingsToggle');
        const settingsIcon = document.getElementById('settingsIcon');
        const collapseEl = document.getElementById('settingsCollapse');
        collapseEl.addEventListener('show.bs.collapse', () => {
            settingsToggle.classList.remove('collapsed');
            settingsIcon.classList.replace('bi-chevron-right', 'bi-chevron-down');
        });
        collapseEl.addEventListener('hide.bs.collapse', () => {
            settingsToggle.classList.add('collapsed');
            settingsIcon.classList.replace('bi-chevron-down', 'bi-chevron-right');
        });
    </script>
</nav>